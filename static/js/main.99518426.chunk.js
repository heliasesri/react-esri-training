(this["webpackJsonpreact-esri-training"]=this["webpackJsonpreact-esri-training"]||[]).push([[0],{31:function(e,t,n){e.exports=n(42)},36:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(19),r=n.n(o),c=(n(36),n(6)),s=n(2),l=n(7),u=n(8),d=n(10),p=n(28),h=n(15),m=n(21),v=n(12),f=n(9),w=function(e){Object(f.loadModules)(["esri/widgets/Search"]).then((function(t){var n=new(0,Object(v.a)(t,1)[0])({view:e});e.ui.add(n,{position:"top-right",index:0})})).catch((function(e){console.error(e)}))},g={image:{width:240,height:120}},b=function(){return i.a.createElement("img",{src:"https://media.makeameme.org/created/component-component-everywhere.jpg",alt:"Smiley face",style:g.image})},y=function(e,t){e&&t&&Object(f.loadModules)(["esri/layers/FeatureLayer"]).then((function(n){for(var a=Object(v.a)(n,1)[0],i=0;i<t.length;i++){var o=new a({portalItem:{id:t[i]}});console.log(o),e.add(o)}})).catch((function(e){console.error(e)}))},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",n=document.createElement(t);return r.a.render(e,n),n},O=function(e){Object(f.loadModules)(["esri/widgets/Track"]).then((function(t){var n=new(0,Object(v.a)(t,1)[0])({view:e});e.ui.add(n,{position:"top-left"})})).catch((function(e){console.error(e)}))},S=function(e,t){e&&Object(f.loadModules)(["esri/core/watchUtils"]).then((function(n){Object(v.a)(n,1)[0].whenTrue(e,"stationary",(function(){t.center=e.center,t.zoom=e.zoom,console.log("Viewpoint Updated")}))})).catch((function(e){console.error(e)}))},j=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"esri-icon-applications";t&&e&&Object(f.loadModules)(["esri/widgets/Expand"]).then((function(a){var i=new(0,Object(v.a)(a,1)[0])({view:e,content:t,expandIconClass:n});e.ui.add(i,{position:"top-right"})})).catch((function(e){console.error(e)}))},k=n(52),D={sidebarDiv:{width:"240px",padding:"10px",height:"auto"},overlayDiv:{zIndex:1,position:"fixed",margin:"auto auto",top:0,right:0,bottom:0,left:0,width:"280px",height:"180px",padding:"10px",backgroundColor:"white",border:"1px solid grey"},esriHeading:{marginTop:0},littleSpacing:{marginBottom:"2em"},loading:{color:"white",width:"18px",height:"18px"}},C=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={isDisabled:!0,headStatus:"",infoStatus:"",showStatus:!1,loading:!1},n.inputRef=i.a.createRef(),n.checkSave=function(){var e=n.props,t=e.map,a=e.view,i=n.state.loading;return t&&a?i?console.log("Save is still saving."):void n.saveMap(t,a):console.log("Map or View is not available.")},n.saveMap=function(e,t){e.updateFrom(t),e.save().then((function(e){var t=e.portal.url+"/home/item.html?id="+e.id,a=i.a.createElement(i.a.Fragment,null,"Successfully saved:"," ",i.a.createElement("i",null,i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t},"WebMap")));n.updateStatusMessage("Save WebMap",a)})).catch((function(e){n.updateStatusMessage("Save WebMap","Error: ".concat(e))}))},n.handleChange=function(e){n.setState({inputValue:e.target.value})},n.updateStatusMessage=function(e,t){n.setState({headStatus:e,infoStatus:t,showStatus:!0,loading:!1})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({isDisabled:!1}),this.inputRef.addEventListener("click",this.checkSave)}},{key:"componentWillUnmount",value:function(){this.inputRef.removeEventListener("click",this.checkSave)}},{key:"render",value:function(){var e=this,t=this.state,n=t.isDisabled,a=t.headStatus,o=t.infoStatus,r=t.showStatus,c=t.loading;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{id:"sidebarDiv",style:D.sidebarDiv,className:"esri-widget"},i.a.createElement("h4",{style:D.esriHeading,className:"esri-heading"},"Save WebMap"),i.a.createElement("span",{type:"button",value:"Save",disabled:n,className:"esri-button",ref:function(t){e.inputRef=t}},c?i.a.createElement(k.a,{style:D.loading,color:"inherit"}):i.a.createElement(i.a.Fragment,null,"Save")),r&&i.a.createElement("div",{id:"overlayDiv",style:D.overlayDiv,className:"esri-widget"},i.a.createElement("h4",{style:D.esriHeading,className:"esri-heading"},a),i.a.createElement("div",{style:D.littleSpacing},o),i.a.createElement("input",{type:"button",value:"OK",className:"esri-button",onClick:function(){e.setState({showStatus:!1})}}))))}}]),t}(a.Component),M=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={screenWidth:window.innerWidth,screenHeight:window.innerHeight,dimension:"2D"},n.updateDimensions=function(){n.setState({screenWidth:window.innerWidth,screenHeight:window.innerHeight})},n.getScreenSize=function(){var e=n.state,t=e.screenWidth;return{height:.999*e.screenHeight,width:.999*t}},n.getMapAndView=function(e,t){n.setState({map:e,view:t,showComponent:!0})},n.loadComponents=function(){var e=n.state,t=e.view,a=e.map;if(t){S(t,n.props.viewProperties),w(t),O(t),j(t,E(b())),y(a,n.props.featureLayer),t.ui.add(E(n.props.switchComponent()),{position:"top-left",index:0});var o=i.a.createElement(C,{history:n.props.history,view:t,map:a});j(t,E(o),"esri-icon-save")}},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e=this,t=this.getScreenSize();return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{id:"6ca0bacba6524ef6bb24ec6a56f51be9",style:t,class:"full-screen-map",mapProperties:{basemap:"streets"},loaderOptions:{css:!0},viewProperties:this.props.viewProperties,onLoad:function(t,n){e.getMapAndView(t,n),e.loadComponents()}}))}}]),t}(a.Component),x=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={screenWidth:window.innerWidth,screenHeight:window.innerHeight},n.updateDimensions=function(){n.setState({screenWidth:window.innerWidth,screenHeight:window.innerHeight})},n.getScreenSize=function(){var e=n.state,t=e.screenWidth;return{height:.999*e.screenHeight,width:.999*t}},n.getMapAndView=function(e,t){n.setState({map:e,view:t,showComponent:!0})},n.loadComponents=function(){var e=n.state,t=e.view,a=e.map;if(t){S(t,n.props.viewProperties),w(t),O(t),y(a,n.props.featureLayer);var o=i.a.createElement(C,{view:t,map:a});j(t,E(o),"esri-icon-save"),t.ui.add(E(b()),{position:"top-right",index:1}),t.ui.add(E(n.props.switchComponent()),{position:"top-left",index:0})}},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e=this,t=this.getScreenSize();return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.b,{id:"2b8ae801e0cc43f5a7b4b1f6f4d9b579",style:t,class:"full-screen-map",mapProperties:{basemap:"dark-gray",ground:"world-elevation"},loaderOptions:{css:!0},viewProperties:this.props.viewProperties,onLoad:function(t,n){e.getMapAndView(t,n),e.loadComponents()}}))}}]),t}(a.Component),W=function(){return i.a.createElement("h1",null,"NOT FOUND 404")},F={switchButton:{border:"none"}},L=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).change=function(){if(!n.props.changeFunction)return console.log("This function is not configured");n.props.changeFunction()},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,this.props.dimension&&i.a.createElement("button",{id:"switch-btn",style:F.switchButton,className:" esri-widget--button esri-widget esri-interactive",onClick:function(){e.change()}},this.props.dimension))}}]),t}(a.Component),H=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={dimension:"2D",featureLayer:[],viewProperties:{center:[4.27583,50.80474],zoom:6}},n.changeDimenion=function(){n.setState({dimension:"2D"===n.state.dimension?"3D":"2D"})},n.switch=function(){return i.a.createElement(L,{dimension:n.state.dimension,changeFunction:n.changeDimenion})},n.showComponent=function(e){return i.a.createElement(e,{switchComponent:n.switch,featureLayer:n.state.featureLayer,viewProperties:n.state.viewProperties})},n.showView=function(){switch(n.state.dimension){case"2D":return n.showComponent(M);case"3D":return n.showComponent(x);default:return i.a.createElement("div",null,"Searching ...")}},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,this.showView())}}]),t}(a.Component),z=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={position:void 0,mode:void 0},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(p.a,{basename:"/react-esri-training"},i.a.createElement(h.c,null,i.a.createElement(h.a,{exact:!0,path:"(/|/view|/home)",component:function(){return i.a.createElement(H,null)}}),i.a.createElement(h.a,{exact:!0,path:"(/map)",component:function(){return i.a.createElement(M,null)}}),i.a.createElement(h.a,{exact:!0,path:"/scene",component:function(){return i.a.createElement(x,null)}}),i.a.createElement(h.a,{component:function(){return i.a.createElement(W,null)}})))}}]),t}(a.Component),P=n(3);var A=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(z,{history:Object(P.a)()}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.99518426.chunk.js.map